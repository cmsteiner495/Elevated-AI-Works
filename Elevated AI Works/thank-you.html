<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Thank You | Elevated AI Works</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brandRed: '#E63926',
            brandDark: '#050816',
            brandGray: '#0F172A',
          }
        }
      }
    }
  </script>

<link rel="manifest" href="img/favicon/site.webmanifest">

<link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="img/favicon/favicon-180x180.png">
<link rel="icon" href="img/favicon/favicon.ico" type="image/x-icon">
<link rel="manifest" href="img/favicon/site.webmanifest">

  <!-- EAW Chatbot Styles -->
  <style>
    /* Chat toggle button */
    #eaw-chat-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      font-size: 24px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.35);
      background: #E63926; /* brandRed */
      color: #F9FAFB;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }

    #eaw-chat-toggle:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.45);
      background: #c52f1f; /* slightly darker red */
    }

    /* Chat window container */
    #eaw-chatbot {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 320px;
      max-height: 480px;
      background: #0F172A; /* brandGray */
      color: #F9FAFB;
      border-radius: 16px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.6);
      display: none;
      flex-direction: column;
      overflow: hidden;
      z-index: 9999;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      border: 1px solid rgba(148, 163, 184, 0.4);
    }

    .eaw-chat-header {
      padding: 10px 12px;
      background: #050816; /* brandDark */
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-weight: 600;
      font-size: 14px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.3);
    }

    .eaw-chat-header span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .eaw-chat-header span::before {
      content: "";
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
    }

    .eaw-chat-header button {
      background: transparent;
      border: none;
      color: #9CA3AF;
      font-size: 18px;
      cursor: pointer;
      padding: 0;
    }

    .eaw-chat-header button:hover {
      color: #E5E7EB;
    }

    #eaw-chat-messages {
      padding: 10px;
      overflow-y: auto;
      flex: 1;
      font-size: 14px;
      background: radial-gradient(circle at top left, rgba(230,57,38,0.12), transparent 55%), #0F172A;
    }

    .eaw-msg {
      margin-bottom: 8px;
      max-width: 90%;
      line-height: 1.4;
      white-space: pre-wrap;
    }

    .eaw-msg.bot {
      background: rgba(15, 23, 42, 0.95);
      border-radius: 10px 10px 10px 2px;
      padding: 8px 10px;
      border: 1px solid rgba(148, 163, 184, 0.3);
    }

    .eaw-msg.user {
      background: #E63926;
      border-radius: 10px 10px 2px 10px;
      padding: 8px 10px;
      margin-left: auto;
      color: #F9FAFB;
      border: 1px solid #b72a1b;
    }

    /* Options (buttons) */
    #eaw-chat-options {
      padding: 8px 10px 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      background: #050816;
      border-top: 1px solid rgba(15, 23, 42, 0.9);
    }

    #eaw-chat-options button {
      border: 1px solid rgba(148, 163, 184, 0.35);
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 12px;
      cursor: pointer;
      background: #050816;
      color: #E5E7EB;
      white-space: nowrap;
      transition: background 0.15s ease, color 0.15s ease, border-color 0.15s ease, transform 0.1s ease;
    }

    #eaw-chat-options button:hover {
      background: #E63926;
      border-color: #E63926;
      color: #F9FAFB;
      transform: translateY(-0.5px);
    }

    #eaw-chat-input-wrapper {
      display: flex;
      padding: 8px 10px;
      gap: 6px;
      border-top: 1px solid rgba(15, 23, 42, 0.9);
      background: #050816;
    }

    #eaw-chat-input {
      flex: 1;
      border-radius: 999px;
      border: 1px solid #374151;
      background: #0F172A;
      color: #F9FAFB;
      padding: 6px 10px;
      font-size: 13px;
    }

    #eaw-chat-input::placeholder {
      color: #6B7280;
    }

    #eaw-chat-send {
      border-radius: 999px;
      border: none;
      padding: 6px 12px;
      font-size: 13px;
      background: #E63926;
      color: #F9FAFB;
      cursor: pointer;
      font-weight: 500;
      transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease;
    }

    #eaw-chat-send:hover {
      background: #c52f1f;
      transform: translateY(-0.5px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }

    @media (max-width: 640px) {
      #eaw-chatbot {
        width: calc(100% - 32px);
        right: 16px;
        bottom: 80px;
      }

      #eaw-chat-toggle {
        bottom: 16px;
        right: 16px;
      }
    }
  </style>
</head>
<body class="bg-brandDark text-slate-100">

  <!-- NAV -->
  <header class="border-b border-slate-800 bg-brandDark/90 sticky top-0 z-30 backdrop-blur">
    <nav class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between gap-3">
      <!-- Logo -->
      <a href="index.html" class="flex items-center gap-3">
        <img src="img/logo.png" alt="Elevated AI Works logo" class="w-10 h-10 object-contain" />
        <div>
          <p class="font-semibold tracking-wide">Elevated AI Works</p>
          <p class="text-xs text-slate-400">Bringing Your Ideas to Altitude</p>
        </div>
      </a>

      <!-- Desktop nav -->
      <div class="hidden md:flex items-center gap-4 text-xs sm:text-sm">
        <a href="index.html" class="hover:text-brandRed">Home</a>
        <a href="services.html" class="hover:text-brandRed">Services</a>
        <a href="portfolio.html" class="hover:text-brandRed">Portfolio</a>
        <a href="about.html" class="hover:text-brandRed">About</a>
        <a href="contact.html" class="hover:text-brandRed">Contact</a>
        <a href="legal/index.html" class="hover:text-brandRed">Legal</a>
      </div>

      <!-- CTA + Hamburger -->
      <div class="flex items-center gap-2">
        <a href="contact.html" class="hidden md:inline-flex px-4 py-2 rounded-md bg-brandRed text-sm font-semibold hover:bg-red-600 transition">
          Get a Quote
        </a>

        <!-- hamburger -->
        <button id="mobileMenuToggle"
          class="md:hidden inline-flex flex-col justify-center gap-1.5 p-2 rounded-md border border-slate-700"
          aria-label="Toggle navigation menu">
          <span class="block w-5 h-[2px] bg-slate-100 rounded"></span>
          <span class="block w-5 h-[2px] bg-slate-100 rounded"></span>
          <span class="block w-5 h-[2px] bg-slate-100 rounded"></span>
        </button>
      </div>
    </nav>

    <!-- mobile nav -->
    <div id="mobileMenu" class="md:hidden border-t border-slate-800 bg-brandDark hidden">
      <nav class="max-w-6xl mx-auto px-4 py-3 flex flex-col gap-2 text-sm">
        <a href="index.html" class="py-1 hover:text-brandRed">Home</a>
        <a href="services.html" class="py-1 hover:text-brandRed">Services</a>
        <a href="portfolio.html" class="py-1 hover:text-brandRed">Portfolio</a>
        <a href="about.html" class="py-1 hover:text-brandRed">About</a>
        <a href="contact.html" class="py-1 hover:text-brandRed">Contact</a>
        <a href="legal/index.html" class="py-1 hover:text-brandRed">Legal</a>

        <a href="contact.html"
          class="mt-2 inline-flex justify-center px-4 py-2 rounded-md bg-brandRed font-semibold hover:bg-red-600 transition">
          Get a Quote
        </a>
      </nav>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="max-w-4xl mx-auto px-4 py-16 text-center space-y-8">
    <section class="space-y-4">
      <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-brandRed/10 border border-brandRed/40 mb-2">
        <span class="text-3xl">âœ…</span>
      </div>
      <h1 class="text-3xl md:text-4xl font-bold">Thank you for reaching out!</h1>
      <p class="text-slate-300 max-w-2xl mx-auto">
        Your message has been received. Elevated AI Works will review your details and get back to you as soon
        as possible with next steps, questions, or a tailored quote.
      </p>
    </section>

    <section class="grid md:grid-cols-2 gap-6 text-left">
      <div class="bg-brandGray border border-slate-800 rounded-2xl p-6 space-y-3">
        <h2 class="text-lg font-semibold text-brandRed">What happens next?</h2>
        <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
          <li>Weâ€™ll read through your message and any project details you provided.</li>
          <li>If something is unclear, we may follow up with a few quick questions.</li>
          <li>Youâ€™ll receive a reply at the email you shared, usually with next steps or a rough game plan.</li>
        </ul>
      </div>

      <div class="bg-brandGray border border-slate-800 rounded-2xl p-6 space-y-3">
        <h2 class="text-lg font-semibold text-brandRed">In the meantimeâ€¦</h2>
        <ul class="list-disc list-inside text-slate-300 space-y-1 text-sm">
          <li>
            Take a look at the <a href="services.html" class="text-brandRed hover:underline">services page</a> to
            see everything Elevated AI Works can help with.
          </li>
          <li>
            Browse the <a href="portfolio.html" class="text-brandRed hover:underline">portfolio</a> for inspiration
            and examples.
          </li>
          <li>
            Jot down any extra ideas, examples, or references youâ€™d like to share in a follow-up email.
          </li>
        </ul>
      </div>
    </section>

    <section class="space-y-3">
      <h2 class="text-lg font-semibold">Want to keep exploring?</h2>
      <div class="flex flex-wrap justify-center gap-3 text-sm">
        <a href="index.html" class="px-4 py-2 rounded-full border border-slate-700 hover:border-brandRed hover:text-brandRed transition">
          Back to Home
        </a>
        <a href="services.html" class="px-4 py-2 rounded-full border border-slate-700 hover:border-brandRed hover:text-brandRed transition">
          View Services
        </a>
        <a href="portfolio.html" class="px-4 py-2 rounded-full border border-slate-700 hover:border-brandRed hover:text-brandRed transition">
          View Portfolio
        </a>
      </div>
    </section>

    <section class="text-xs text-slate-500">
      <p>
        Didnâ€™t mean to submit that form? You can always send a corrected message through the
        <a href="contact.html" class="text-brandRed hover:underline">contact page</a> or reply to any email you get from us.
      </p>
    </section>
  </main>

  <footer class="border-t border-slate-800 mt-10">
    <div class="max-w-6xl mx-auto px-4 py-6 text-xs text-slate-500 flex flex-col md:flex-row items-center justify-between gap-2">
      <p>Â© 2025 Elevated AI Works. All rights reserved.</p>
      <p>elevatedaiworks.com â€¢ AI-Powered Creative & Digital Solutions</p>
    </div>
  </footer>

  <!-- Mobile menu JS -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const toggle = document.getElementById('mobileMenuToggle');
      const menu   = document.getElementById('mobileMenu');
      if (!toggle || !menu) return;
      toggle.addEventListener('click', () => menu.classList.toggle('hidden'));
    });
  </script>

  <!-- EAW Chatbot HTML -->
  <div id="eaw-chatbot">
    <div class="eaw-chat-header">
      <span>Elevated AI Works Assistant</span>
      <button id="eaw-chat-close" aria-label="Close chat">Ã—</button>
    </div>
    <div id="eaw-chat-messages"></div>
    <div id="eaw-chat-input-wrapper" style="display:none;">
      <input id="eaw-chat-input" type="text" placeholder="Type your answer..." />
      <button id="eaw-chat-send">Send</button>
    </div>
    <div id="eaw-chat-options"></div>
  </div>

  <button id="eaw-chat-toggle" aria-label="Open chat">
    ðŸ’¬
  </button>

  <!-- EAW Chatbot Logic -->
  <script>
    // ----- Conversation flow definition -----
    const EAW_FLOW = {
      start: {
        type: "message",
        text: "ðŸ‘‹ Hey there, Iâ€™m the Elevated AI Works Assistant.\n\nI can help you:\nâ€¢ understand what we offer\nâ€¢ find the right service for your project\nâ€¢ or start a quick quote.\n\nWhat would you like to do?",
        options: [
          { label: "ðŸ” Help me choose a service", next: "choose_service" },
          { label: "ðŸ“‹ See all services", next: "services_overview" },
          { label: "â“ FAQs", next: "faqs" },
          { label: "ðŸ’¬ Get a project quote", next: "quote_intro" },
          { label: "ðŸ‘¤ About Elevated AI Works", next: "about" }
        ]
      },

      // ----- A: choose a service -----
      choose_service: {
        type: "message",
        text: "Awesome, letâ€™s figure out what you need.\nWhat describes you best right now?",
        options: [
          { label: "ðŸ§± I need a brand or logo", next: "service_branding" },
          { label: "ðŸŒ I need a website or refresh", next: "service_web" },
          { label: "ðŸ¤– I want AI workflows/automation", next: "service_ai" },
          { label: "ðŸ¤· Iâ€™m not sure yet", next: "service_unsure" }
        ]
      },

      service_branding: {
        type: "message",
        text: "Perfect â€” that sounds like Branding & Visual Identity.\nWe help with logo design, color palettes, typography, and brand guidelines so everything feels consistent online and offline.\n\nWhat would you like to do next?",
        options: [
          { label: "ðŸ“‹ More about branding", next: "services_overview" },
          { label: "ðŸ’¬ Start a quote", next: "quote_intro" },
          { label: "ðŸ”™ Back to main menu", next: "start" }
        ]
      },

      service_web: {
        type: "message",
        text: "Got it â€” that falls under Branding & Web Design.\nWe create modern, responsive websites that are aligned with your brand and easy to use.\n\nWhat would you like to do next?",
        options: [
          { label: "ðŸŒ More about web design", next: "services_overview" },
          { label: "ðŸ’¬ Start a quote", next: "quote_intro" },
          { label: "ðŸ”™ Back to main menu", next: "start" }
        ]
      },

      service_ai: {
        type: "message",
        text: "Nice. Youâ€™re looking for AI Solutions & Automation.\nWe help with things like content workflows, customer support assistants, and internal process automation.\n\nWhat would you like to do next?",
        options: [
          { label: "ðŸ¤– AI services overview", next: "services_overview" },
          { label: "ðŸ’¬ Start a quote", next: "quote_intro" },
          { label: "ðŸ”™ Back to main menu", next: "start" }
        ]
      },

      service_unsure: {
        type: "message",
        text: "No worries â€” thatâ€™s what Iâ€™m here for.\nA quick way to start is to describe what isnâ€™t working right now: website, branding, content, or processes.\n\nWant to send a short description and let Elevated AI Works review it?",
        options: [
          { label: "âœï¸ Yes, Iâ€™ll describe my situation", next: "quote_description_only" },
          { label: "ðŸ”™ Back to main menu", next: "start" }
        ]
      },

      // ----- B: services overview -----
      services_overview: {
        type: "message",
        text:
          "Hereâ€™s a quick overview of what Elevated AI Works offers:\n\n" +
          "ðŸŽ¨ Branding & Visual Identity\nLogos, color palettes, typography, and brand guidelines.\n\n" +
          "ðŸŒ Branding & Web Design\nClean, modern websites that align with your brand.\n\n" +
          "ðŸ¤– AI Solutions & Automation\nCustom AI tools and workflows to streamline your work.\n\nWhat would you like to do next?",
        options: [
          { label: "ðŸ’¬ Get a quote", next: "quote_intro" },
          { label: "â“ FAQs", next: "faqs" },
          { label: "ðŸ”™ Back to main menu", next: "start" }
        ]
      },

      // ----- C: FAQs -----
      faqs: {
        type: "message",
        text: "Iâ€™ve got answers to some common questions.\nWhat would you like to know?",
        options: [
          { label: "ðŸ’² How does pricing work?", next: "faq_pricing" },
          { label: "â± How long do projects take?", next: "faq_timing" },
          { label: "ðŸ“ What do I need to get started?", next: "faq_requirements" },
          { label: "ðŸ¤ Do you work with small businesses/startups?", next: "faq_smallbiz" },
          { label: "ðŸ“¬ How do I contact you directly?", next: "faq_contact" },
          { label: "ðŸ”™ Back to main menu", next: "start" }
        ]
      },

      faq_pricing: {
        type: "message",
        text:
          "Pricing depends on the scope.\nâ€¢ Branding & logos â†’ usually project-based packages\n" +
          "â€¢ Websites â†’ based on page count, features, and integrations\n" +
          "â€¢ AI solutions â†’ based on complexity and tools required\n\n" +
          "If youâ€™d like a ballpark range, I can ask a few questions and send your details to Elevated AI Works.",
        options: [
          { label: "ðŸ’¬ Start a quote", next: "quote_intro" },
          { label: "ðŸ”™ Back to FAQs", next: "faqs" }
        ]
      },

      faq_timing: {
        type: "message",
        text:
          "Project timelines vary:\nâ€¢ Branding: usually a few weeks\n" +
          "â€¢ Websites: a few weeks to a couple of months, depending on features and revisions\n" +
          "â€¢ AI solutions: depends on complexity\n\nYour timeline will always be discussed before we start.",
        options: [
          { label: "ðŸ”™ Back to FAQs", next: "faqs" }
        ]
      },

      faq_requirements: {
        type: "message",
        text:
          "To get started, it helps to have:\n" +
          "â€¢ A short description of your business\n" +
          "â€¢ Any existing logos/branding\n" +
          "â€¢ Examples of websites or brands you like\n" +
          "â€¢ A rough budget and timeline\n\nIf you donâ€™t have it all yet, thatâ€™s okay â€” weâ€™ll figure it out together.",
        options: [
          { label: "ðŸ’¬ Start a quote", next: "quote_intro" },
          { label: "ðŸ”™ Back to FAQs", next: "faqs" }
        ]
      },

      faq_smallbiz: {
        type: "message",
        text:
          "Absolutely. Elevated AI Works is built for small businesses, creators, and entrepreneurs.\n" +
          "We can start small and scale alongside you.",
        options: [
          { label: "ðŸ”™ Back to FAQs", next: "faqs" }
        ]
      },

      faq_contact: {
        type: "message",
        text:
          "You can reach out anytime via the contact form on the site or by email.\n\n" +
          "Or, if youâ€™d like, you can start a quick quote here in chat.",
        options: [
          { label: "ðŸ“¬ Open contact page", next: "open_contact" },
          { label: "ðŸ’¬ Start a quote here", next: "quote_intro" },
          { label: "ðŸ”™ Back to FAQs", next: "faqs" }
        ]
      },

      // ----- D: Quote flow (full) -----
      quote_intro: {
        type: "message",
        text:
          "Letâ€™s grab a few quick details and Iâ€™ll pass them along to Elevated AI Works for a personalized response.\n\nWhat are you mainly interested in?",
        options: [
          { label: "ðŸŽ¨ Branding / logo", next: "quote_interest_branding" },
          { label: "ðŸŒ Website", next: "quote_interest_web" },
          { label: "ðŸ¤– AI / automation", next: "quote_interest_ai" },
          { label: "ðŸ§© Combination / not sure", next: "quote_interest_combo" }
        ]
      },

      quote_interest_branding: { type: "input", text: "Got it â€” branding.\nWhatâ€™s your name?", key: "name", next: "quote_email" },
      quote_interest_web:     { type: "input", text: "Got it â€” website.\nWhatâ€™s your name?", key: "name", next: "quote_email" },
      quote_interest_ai:      { type: "input", text: "Got it â€” AI / automation.\nWhatâ€™s your name?", key: "name", next: "quote_email" },
      quote_interest_combo:   { type: "input", text: "No problem â€” a mix is common.\nWhatâ€™s your name?", key: "name", next: "quote_email" },

      quote_email: {
        type: "input",
        text: "Thanks, {{name}}. Whatâ€™s the best email to reach you?",
        key: "email",
        next: "quote_description"
      },

      quote_description: {
        type: "input",
        text: "Great. In 2â€“3 sentences, tell us what youâ€™re hoping to achieve or what problem youâ€™d like Elevated AI Works to help solve.",
        key: "description",
        next: "quote_budget"
      },

      quote_budget: {
        type: "message",
        text: "If youâ€™re comfortable sharing, which range best fits your budget?",
        options: [
          { label: "ðŸ’µ Under $1,000", next: "quote_done_under" },
          { label: "ðŸ’µ $1,000â€“$2,500", next: "quote_done_mid" },
          { label: "ðŸ’µ $2,500â€“$5,000", next: "quote_done_high" },
          { label: "ðŸ’µ $5,000+", next: "quote_done_premium" },
          { label: "ðŸ™ˆ Not sure yet", next: "quote_done_unsure" }
        ]
      },

      quote_done_under:   { type: "final", text: "Thanks, {{name}}! ðŸŽ‰\nYou selected a budget under $1,000." },
      quote_done_mid:     { type: "final", text: "Thanks, {{name}}! ðŸŽ‰\nYou selected a budget of $1,000â€“$2,500." },
      quote_done_high:    { type: "final", text: "Thanks, {{name}}! ðŸŽ‰\nYou selected a budget of $2,500â€“$5,000." },
      quote_done_premium: { type: "final", text: "Thanks, {{name}}! ðŸŽ‰\nYou selected a budget of $5,000+." },
      quote_done_unsure:  { type: "final", text: "Thanks, {{name}}! ðŸŽ‰\nNo worries if youâ€™re not sure on budget yet." },

      quote_description_only: {
        type: "input",
        text: "Go ahead and describe your situation in a few sentences and Elevated AI Works will review it.",
        key: "description",
        next: "quote_done_simple"
      },

      quote_done_simple: {
        type: "final",
        text: "Thanks for sharing! Elevated AI Works will review your message and follow up if you left contact info elsewhere on the site."
      },

      about: {
        type: "message",
        text:
          "Elevated AI Works blends thoughtful design with practical AI solutions.\n\n" +
          "Our goal is to make advanced tools feel approachable, human, and useful for small businesses and creators.\n\nWhat would you like to explore next?",
        options: [
          { label: "ðŸ“‹ See all services", next: "services_overview" },
          { label: "ðŸ’¬ Get a quote", next: "quote_intro" },
          { label: "ðŸ”™ Back to main menu", next: "start" }
        ]
      },

      open_contact: {
        type: "action",
        action: "openContact"
      }
    };

    // ----- Basic chatbot engine -----
    (function () {
      const chatbot = document.getElementById("eaw-chatbot");
      const toggleBtn = document.getElementById("eaw-chat-toggle");
      const closeBtn = document.getElementById("eaw-chat-close");
      const messagesEl = document.getElementById("eaw-chat-messages");
      const optionsEl = document.getElementById("eaw-chat-options");
      const inputWrapper = document.getElementById("eaw-chat-input-wrapper");
      const inputField = document.getElementById("eaw-chat-input");
      const sendBtn = document.getElementById("eaw-chat-send");

      let currentNodeId = "start";
      let pendingKey = null;
      let pendingNext = null;
      const userData = {};

      function resetConversation() {
        messagesEl.innerHTML = "";
        optionsEl.innerHTML = "";
        for (const key in userData) {
          if (Object.prototype.hasOwnProperty.call(userData, key)) {
            delete userData[key];
          }
        }
        inputWrapper.style.display = "none";
      }

      function toggleChat(show) {
        if (show === true) {
          chatbot.style.display = "flex";
        } else if (show === false) {
          chatbot.style.display = "none";
        } else {
          chatbot.style.display = chatbot.style.display === "flex" ? "none" : "flex";
        }
      }

      toggleBtn.addEventListener("click", () => {
        toggleChat();
        if (chatbot.style.display === "flex" && messagesEl.childElementCount === 0) {
          showNode("start");
        }
      });

      closeBtn.addEventListener("click", () => {
        toggleChat(false);
      });

      function appendMessage(text, from = "bot") {
        const div = document.createElement("div");
        div.className = "eaw-msg " + from;
        div.textContent = renderText(text);
        messagesEl.appendChild(div);

        requestAnimationFrame(() => {
          messagesEl.scrollTop = messagesEl.scrollHeight;
        });
      }

      function renderText(text) {
        return text.replace(/{{(\w+)}}/g, (_, key) => userData[key] || "");
      }

      function clearOptions() {
        optionsEl.innerHTML = "";
      }

      function showNode(id) {
        currentNodeId = id;
        const node = EAW_FLOW[id];
        if (!node) return;

        clearOptions();
        inputWrapper.style.display = "none";
        pendingKey = null;
        pendingNext = null;

        if (node.type === "action") {
          handleActionNode(node);
          return;
        }

        if (node.type === "final") {
          showFinal(node.text);
          return;
        }

        appendMessage(node.text, "bot");

        if (node.type === "message") {
          if (node.options && node.options.length) {
            node.options.forEach(opt => {
              const btn = document.createElement("button");
              btn.textContent = opt.label;
              btn.addEventListener("click", () => handleOptionClick(opt));
              optionsEl.appendChild(btn);
            });
          }
        } else if (node.type === "input") {
          pendingKey = node.key;
          pendingNext = node.next;
          inputWrapper.style.display = "flex";
          inputField.value = "";
          inputField.focus();
        }
      }

      function handleOptionClick(opt) {
        appendMessage(opt.label, "user");

        const nextNode = EAW_FLOW[opt.next];
        if (!nextNode) {
          return;
        }
        if (nextNode.type === "action") {
          handleActionNode(nextNode);
        } else {
          showNode(opt.next);
        }
      }

      function handleActionNode(node) {
        if (node.action === "openContact") {
          window.open("contact.html", "_blank");
          showNode("faqs");
        }
      }

      function handleInputSubmit() {
        const value = inputField.value.trim();
        if (!value || !pendingKey || !pendingNext) return;

        appendMessage(value, "user");
        userData[pendingKey] = value;

        inputField.value = "";
        inputWrapper.style.display = "none";

        showNode(pendingNext);
      }

      sendBtn.addEventListener("click", handleInputSubmit);
      inputField.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          handleInputSubmit();
        }
      });

      function showFinal(finalText) {
        appendMessage(finalText, "bot");

        const summary =
          "New inquiry from EAW Assistant:\n\n" +
          "Name: " + (userData.name || "(not provided)") + "\n" +
          "Email: " + (userData.email || "(not provided)") + "\n\n" +
          "Description:\n" + (userData.description || "(not provided)") + "\n";

        const mailtoHref =
          "mailto:hello@elevatedaiworks.com" +
          "?subject=" + encodeURIComponent("New Elevated AI Works inquiry") +
          "&body=" + encodeURIComponent(summary);

        clearOptions();
        const btnEmail = document.createElement("button");
        btnEmail.textContent = "ðŸ“¨ Send details to Elevated AI Works";
        btnEmail.addEventListener("click", () => {
          window.location.href = mailtoHref;
        });

        const btnRestart = document.createElement("button");
        btnRestart.textContent = "ðŸ” Start over";
        btnRestart.addEventListener("click", () => {
          resetConversation();
          showNode("start");
        });

        optionsEl.appendChild(btnEmail);
        optionsEl.appendChild(btnRestart);
      }
    })();
  </script>
</body>
</html>
