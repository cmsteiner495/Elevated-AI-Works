<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Refund & Revision Policy | Elevated AI Works</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brandRed: '#E63926',
            brandDark: '#050816',
            brandGray: '#0F172A',
          }
        }
      }
    }
  </script>

<link rel="manifest" href="img/favicon/site.webmanifest">

<link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="img/favicon/favicon-180x180.png">
<link rel="icon" href="img/favicon/favicon.ico" type="image/x-icon">
<link rel="manifest" href="img/favicon/site.webmanifest">

  <!-- EAW Chatbot Styles -->
  <style>
    /* Chat toggle button */
    #eaw-chat-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      font-size: 24px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.35);
      background: #E63926; /* brandRed */
      color: #F9FAFB;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }

    #eaw-chat-toggle:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.45);
      background: #c52f1f; /* slightly darker red */
    }

    /* Chat window container */
    #eaw-chatbot {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 320px;
      max-height: 480px;
      background: #0F172A; /* brandGray */
      color: #F9FAFB;
      border-radius: 16px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.6);
      display: none;
      flex-direction: column;
      overflow: hidden;
      z-index: 9999;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      border: 1px solid rgba(148, 163, 184, 0.4); /* slate-400-ish */
    }

    .eaw-chat-header {
      padding: 10px 12px;
      background: #050816; /* brandDark */
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-weight: 600;
      font-size: 14px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.3);
    }

    .eaw-chat-header span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .eaw-chat-header span::before {
      content: "";
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e; /* online indicator */
    }

    .eaw-chat-header button {
      background: transparent;
      border: none;
      color: #9CA3AF;
      font-size: 18px;
      cursor: pointer;
      padding: 0;
    }

    .eaw-chat-header button:hover {
      color: #E5E7EB;
    }

    #eaw-chat-messages {
      padding: 10px;
      overflow-y: auto;
      flex: 1;
      font-size: 14px;
      background: radial-gradient(circle at top left, rgba(230,57,38,0.12), transparent 55%), #0F172A;
    }

    .eaw-msg {
      margin-bottom: 8px;
      max-width: 90%;
      line-height: 1.4;
      white-space: pre-wrap;
    }

    .eaw-msg.bot {
      background: rgba(15, 23, 42, 0.95);
      border-radius: 10px 10px 10px 2px;
      padding: 8px 10px;
      border: 1px solid rgba(148, 163, 184, 0.3);
    }

    .eaw-msg.user {
      background: #E63926;
      border-radius: 10px 10px 2px 10px;
      padding: 8px 10px;
      margin-left: auto;
      color: #F9FAFB;
      border: 1px solid #b72a1b;
    }

    /* Options (buttons) */
    #eaw-chat-options {
      padding: 8px 10px 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      background: #050816;
      border-top: 1px solid rgba(15, 23, 42, 0.9);
    }

    #eaw-chat-options button {
      border: 1px solid rgba(148, 163, 184, 0.35);
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 12px;
      cursor: pointer;
      background: #050816;
      color: #E5E7EB;
      white-space: nowrap;
      transition: background 0.15s ease, color 0.15s ease, border-color 0.15s ease, transform 0.1s ease;
    }

    #eaw-chat-options button:hover {
      background: #E63926;
      border-color: #E63926;
      color: #F9FAFB;
      transform: translateY(-0.5px);
    }

    /* Input field for free text steps */
    #eaw-chat-input-wrapper {
      display: flex;
      padding: 8px 10px;
      gap: 6px;
      border-top: 1px solid rgba(15, 23, 42, 0.9);
      background: #050816;
    }

    #eaw-chat-input {
      flex: 1;
      border-radius: 999px;
      border: 1px solid #374151;
      background: #0F172A;
      color: #F9FAFB;
      padding: 6px 10px;
      font-size: 13px;
    }

    #eaw-chat-input::placeholder {
      color: #6B7280;
    }

    #eaw-chat-send {
      border-radius: 999px;
      border: none;
      padding: 6px 12px;
      font-size: 13px;
      background: #E63926;
      color: #F9FAFB;
      cursor: pointer;
      font-weight: 500;
      transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.15s ease;
    }

    #eaw-chat-send:hover {
      background: #c52f1f;
      transform: translateY(-0.5px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }

    /* Simple mobile tweak */
    @media (max-width: 640px) {
      #eaw-chatbot {
        width: calc(100% - 32px);
        right: 16px;
        bottom: 80px;
      }

      #eaw-chat-toggle {
        bottom: 16px;
        right: 16px;
      }
    }
  </style>
</head>
<body class="bg-brandDark text-slate-100">

  <!-- NAV -->
  <header class="border-b border-slate-800 bg-brandDark/90 sticky top-0 z-30 backdrop-blur">
    <nav class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between gap-3">
      <!-- Logo -->
      <a href="../index.html" class="flex items-center gap-3">
        <img src="../img/logo.png" alt="Elevated AI Works logo" class="w-10 h-10 object-contain" />
        <div>
          <p class="font-semibold tracking-wide">Elevated AI Works</p>
          <p class="text-xs text-slate-400">Bringing Your Ideas to Altitude</p>
        </div>
      </a>

      <!-- Desktop nav -->
      <div class="hidden md:flex items-center gap-4 text-xs sm:text-sm">
        <a href="../index.html" class="hover:text-brandRed">Home</a>
        <a href="../services.html" class="hover:text-brandRed">Services</a>
        <a href="../portfolio.html" class="hover:text-brandRed">Portfolio</a>
        <a href="../about.html" class="hover:text-brandRed">About</a>
        <a href="../contact.html" class="hover:text-brandRed">Contact</a>
        <a href="index.html" class="text-brandRed font-semibold">Legal</a>
      </div>

      <!-- CTA + Hamburger -->
      <div class="flex items-center gap-2">
        <a href="../contact.html" class="hidden md:inline-flex px-4 py-2 rounded-md bg-brandRed text-sm font-semibold hover:bg-red-600 transition">
          Get a Quote
        </a>

        <!-- hamburger -->
        <button id="mobileMenuToggle"
          class="md:hidden inline-flex flex-col justify-center gap-1.5 p-2 rounded-md border border-slate-700"
          aria-label="Toggle navigation menu">
          <span class="block w-5 h-[2px] bg-slate-100 rounded"></span>
          <span class="block w-5 h-[2px] bg-slate-100 rounded"></span>
          <span class="block w-5 h-[2px] bg-slate-100 rounded"></span>
        </button>
      </div>
    </nav>

    <!-- mobile nav -->
    <div id="mobileMenu" class="md:hidden border-t border-slate-800 bg-brandDark hidden">
      <nav class="max-w-6xl mx-auto px-4 py-3 flex flex-col gap-2 text-sm">
        <a href="../index.html" class="py-1 hover:text-brandRed">Home</a>
        <a href="../services.html" class="py-1 hover:text-brandRed">Services</a>
        <a href="../portfolio.html" class="py-1 hover:text-brandRed">Portfolio</a>
        <a href="../about.html" class="py-1 hover:text-brandRed">About</a>
        <a href="../contact.html" class="py-1 hover:text-brandRed">Contact</a>
        <a href="index.html" class="py-1 text-brandRed font-semibold">Legal</a>

        <a href="../contact.html"
          class="mt-2 inline-flex justify-center px-4 py-2 rounded-md bg-brandRed font-semibold hover:bg-red-600 transition">
          Get a Quote
        </a>
      </nav>
    </div>
  </header>

  <!-- CONTENT -->
  <main class="max-w-6xl mx-auto px-4 py-10 space-y-8 text-sm md:text-base">
    <header class="space-y-2">
      <p class="text-xs tracking-[0.25em] uppercase text-slate-400">Legal</p>
      <h1 class="text-3xl md:text-4xl font-bold">Refund &amp; Revision Policy</h1>
      <p class="text-slate-300 max-w-3xl">
        This Refund &amp; Revision Policy explains how Elevated AI Works handles deposits, revisions, cancellations,
        and refund requests for custom work.
      </p>
      <p class="text-xs text-slate-500">
        Last Updated: January 2025
      </p>
    </header>

    <!-- Deposits & Payments -->
    <section class="bg-brandGray border border-slate-800 rounded-2xl p-6 space-y-3">
      <h2 class="text-xl font-semibold">Deposits &amp; Payment Structure</h2>
      <p class="text-slate-300">
        Most projects require an upfront deposit before work begins. The exact amount or percentage will be outlined
        in your proposal or agreement. Deposits are generally non-refundable once work has started, as time and
        resources are committed to your project.
      </p>
      <p class="text-slate-300">
        Remaining balances are typically due at agreed milestones or upon delivery of final files, depending on the
        scope of the project.
      </p>
    </section>

    <!-- Revisions -->
    <section class="bg-brandGray border border-slate-800 rounded-2xl p-6 space-y-3">
      <h2 class="text-xl font-semibold">Included Revisions</h2>
      <p class="text-slate-300">
        Each project includes a defined number of revision rounds, which will be clearly stated in your proposal
        or project summary. A ‚Äúrevision round‚Äù generally means a batch of requested changes reviewed at one time,
        not an unlimited number of continuous edits.
      </p>
      <p class="text-slate-300">
        The goal is to refine the work in a structured way‚Äîmoving from rough drafts to polished deliverables, while
        keeping the project within the estimated timeline and budget.
      </p>
    </section>

    <!-- Out-of-scope changes -->
    <section class="bg-brandGray border border-slate-800 rounded-2xl p-6 space-y-3">
      <h2 class="text-xl font-semibold">Out-of-Scope Changes</h2>
      <p class="text-slate-300">
        If you request changes that significantly alter the original direction, scope, or complexity of the project
        (for example, a full redesign after approval of a concept), these may be treated as additional work.
      </p>
      <p class="text-slate-300">
        When that happens, Elevated AI Works will discuss options with you, which may include:
      </p>
      <ul class="list-disc list-inside text-slate-300 space-y-1">
        <li>Adjusting the scope and timeline</li>
        <li>Adding an additional fee for the new work</li>
        <li>Splitting the new request into a separate project</li>
      </ul>
    </section>

    <!-- Cancellations -->
    <section class="bg-brandGray border border-slate-800 rounded-2xl p-6 space-y-3">
      <h2 class="text-xl font-semibold">Cancellations</h2>
      <p class="text-slate-300">
        If you decide to cancel a project after work has begun, you will be responsible for the portion of work
        already completed up to the cancellation date. In most cases, this means:
      </p>
      <ul class="list-disc list-inside text-slate-300 space-y-1">
        <li>The initial deposit is retained to cover time and resources already invested</li>
        <li>Any additional work beyond the deposit value may be invoiced on a prorated basis</li>
      </ul>
      <p class="text-slate-300">
        If Elevated AI Works must cancel a project for any reason, reasonable efforts will be made to provide
        a partial refund or deliver usable work-in-progress files, depending on the situation.
      </p>
    </section>

    <!-- Refunds -->
    <section class="bg-brandGray border border-slate-800 rounded-2xl p-6 space-y-3">
      <h2 class="text-xl font-semibold">Refund Requests</h2>
      <p class="text-slate-300">
        Because custom work is time-based and tailored to your request, full refunds are not typically available
        once work has started. However, Elevated AI Works understands that situations can change.
      </p>
      <p class="text-slate-300">
        If you believe there is a clear issue with the work delivered (for example, it does not align with the
        agreed scope), please reach out as soon as possible. The first step will always be:
      </p>
      <ul class="list-disc list-inside text-slate-300 space-y-1">
        <li>Clarifying the concern</li>
        <li>Reviewing the agreed scope and references</li>
        <li>Attempting to resolve the issue through revisions</li>
      </ul>
      <p class="text-slate-300">
        In rare cases, a partial refund or credit toward future work may be offered at the discretion of Elevated
        AI Works, especially if a project is ended early or cannot be completed as planned.
      </p>
    </section>

    <!-- Digital Files / Final Delivery -->
    <section class="bg-brandGray border border-slate-800 rounded-2xl p-6 space-y-3">
      <h2 class="text-xl font-semibold">Digital Files &amp; Final Delivery</h2>
      <p class="text-slate-300">
        Once final files have been delivered and approved (for example, logo files, website exports, documents,
        or templates), refunds are generally not available. You are encouraged to review drafts and proofs carefully
        before final approval so that any issues can be addressed during the revision stage.
      </p>
    </section>

    <!-- Communication -->
    <section class="bg-brandGray border border-slate-800 rounded-2xl p-6 space-y-3">
      <h2 class="text-xl font-semibold">Communication &amp; Response Times</h2>
      <p class="text-slate-300">
        Timely feedback and communication help keep projects moving smoothly. If there are long gaps in communication
        or delayed approvals, timelines may need to be adjusted. In some cases, a paused project may be considered
        complete if there is no response for an extended period, even if all revisions were not used.
      </p>
    </section>

    <!-- Questions -->
    <section class="text-sm text-slate-400">
      <p>
        If you have questions about how this Refund &amp; Revision Policy applies to your project, please reach out
        through the <a href="../contact.html" class="text-brandRed hover:underline">contact page</a> before starting.
      </p>
    </section>
  </main>

  <footer class="border-t border-slate-800 mt-10">
    <div class="max-w-6xl mx-auto px-4 py-6 text-xs text-slate-500 flex flex-col md:flex-row items-center justify-between gap-2">
      <p>¬© 2025 Elevated AI Works. All rights reserved.</p>
      <p>elevatedaiworks.com ‚Ä¢ AI-Powered Creative & Digital Solutions</p>
    </div>
  </footer>

  <!-- Mobile menu JS -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const toggle = document.getElementById('mobileMenuToggle');
      const menu   = document.getElementById('mobileMenu');
      if (!toggle || !menu) return;
      toggle.addEventListener('click', () => menu.classList.toggle('hidden'));
    });
  </script>

  <!-- EAW Chatbot HTML -->
  <div id="eaw-chatbot">
    <div class="eaw-chat-header">
      <span>Elevated AI Works Assistant</span>
      <button id="eaw-chat-close" aria-label="Close chat">√ó</button>
    </div>
    <div id="eaw-chat-messages"></div>
    <div id="eaw-chat-input-wrapper" style="display:none;">
      <input id="eaw-chat-input" type="text" placeholder="Type your answer..." />
      <button id="eaw-chat-send">Send</button>
    </div>
    <div id="eaw-chat-options"></div>
  </div>

  <button id="eaw-chat-toggle" aria-label="Open chat">
    üí¨
  </button>

  <!-- EAW Chatbot Logic -->
  <script>
    // ----- Conversation flow definition -----
    const EAW_FLOW = {
      start: {
        type: "message",
        text: "üëã Hey there, I‚Äôm the Elevated AI Works Assistant.\n\nI can help you:\n‚Ä¢ understand what we offer\n‚Ä¢ find the right service for your project\n‚Ä¢ or start a quick quote.\n\nWhat would you like to do?",
        options: [
          { label: "üîç Help me choose a service", next: "choose_service" },
          { label: "üìã See all services", next: "services_overview" },
          { label: "‚ùì FAQs", next: "faqs" },
          { label: "üí¨ Get a project quote", next: "quote_intro" },
          { label: "üë§ About Elevated AI Works", next: "about" }
        ]
      },

      // ----- A: choose a service -----
      choose_service: {
        type: "message",
        text: "Awesome, let‚Äôs figure out what you need.\nWhat describes you best right now?",
        options: [
          { label: "üß± I need a brand or logo", next: "service_branding" },
          { label: "üåê I need a website or refresh", next: "service_web" },
          { label: "ü§ñ I want AI workflows/automation", next: "service_ai" },
          { label: "ü§∑ I‚Äôm not sure yet", next: "service_unsure" }
        ]
      },

      service_branding: {
        type: "message",
        text: "Perfect ‚Äî that sounds like Branding & Visual Identity.\nWe help with logo design, color palettes, typography, and brand guidelines so everything feels consistent online and offline.\n\nWhat would you like to do next?",
        options: [
          { label: "üìã More about branding", next: "services_overview" },
          { label: "üí¨ Start a quote", next: "quote_intro" },
          { label: "üîô Back to main menu", next: "start" }
        ]
      },

      service_web: {
        type: "message",
        text: "Got it ‚Äî that falls under Branding & Web Design.\nWe create modern, responsive websites that are aligned with your brand and easy to use.\n\nWhat would you like to do next?",
        options: [
          { label: "üåê More about web design", next: "services_overview" },
          { label: "üí¨ Start a quote", next: "quote_intro" },
          { label: "üîô Back to main menu", next: "start" }
        ]
      },

      service_ai: {
        type: "message",
        text: "Nice. You‚Äôre looking for AI Solutions & Automation.\nWe help with things like content workflows, customer support assistants, and internal process automation.\n\nWhat would you like to do next?",
        options: [
          { label: "ü§ñ AI services overview", next: "services_overview" },
          { label: "üí¨ Start a quote", next: "quote_intro" },
          { label: "üîô Back to main menu", next: "start" }
        ]
      },

      service_unsure: {
        type: "message",
        text: "No worries ‚Äî that‚Äôs what I‚Äôm here for.\nA quick way to start is to describe what isn‚Äôt working right now: website, branding, content, or processes.\n\nWant to send a short description and let Elevated AI Works review it?",
        options: [
          { label: "‚úçÔ∏è Yes, I‚Äôll describe my situation", next: "quote_description_only" },
          { label: "üîô Back to main menu", next: "start" }
        ]
      },

      // ----- B: services overview -----
      services_overview: {
        type: "message",
        text:
          "Here‚Äôs a quick overview of what Elevated AI Works offers:\n\n" +
          "üé® Branding & Visual Identity\nLogos, color palettes, typography, and brand guidelines.\n\n" +
          "üåê Branding & Web Design\nClean, modern websites that align with your brand.\n\n" +
          "ü§ñ AI Solutions & Automation\nCustom AI tools and workflows to streamline your work.\n\nWhat would you like to do next?",
        options: [
          { label: "üí¨ Get a quote", next: "quote_intro" },
          { label: "‚ùì FAQs", next: "faqs" },
          { label: "üîô Back to main menu", next: "start" }
        ]
      },

      // ----- C: FAQs -----
      faqs: {
        type: "message",
        text: "I‚Äôve got answers to some common questions.\nWhat would you like to know?",
        options: [
          { label: "üí≤ How does pricing work?", next: "faq_pricing" },
          { label: "‚è± How long do projects take?", next: "faq_timing" },
          { label: "üìÅ What do I need to get started?", next: "faq_requirements" },
          { label: "ü§ù Do you work with small businesses/startups?", next: "faq_smallbiz" },
          { label: "üì¨ How do I contact you directly?", next: "faq_contact" },
          { label: "üîô Back to main menu", next: "start" }
        ]
      },

      faq_pricing: {
        type: "message",
        text:
          "Pricing depends on the scope.\n‚Ä¢ Branding & logos ‚Üí usually project-based packages\n" +
          "‚Ä¢ Websites ‚Üí based on page count, features, and integrations\n" +
          "‚Ä¢ AI solutions ‚Üí based on complexity and tools required\n\n" +
          "If you‚Äôd like a ballpark range, I can ask a few questions and send your details to Elevated AI Works.",
        options: [
          { label: "üí¨ Start a quote", next: "quote_intro" },
          { label: "üîô Back to FAQs", next: "faqs" }
        ]
      },

      faq_timing: {
        type: "message",
        text:
          "Project timelines vary:\n‚Ä¢ Branding: usually a few weeks\n" +
          "‚Ä¢ Websites: a few weeks to a couple of months, depending on features and revisions\n" +
          "‚Ä¢ AI solutions: depends on complexity\n\nYour timeline will always be discussed before we start.",
        options: [
          { label: "üîô Back to FAQs", next: "faqs" }
        ]
      },

      faq_requirements: {
        type: "message",
        text:
          "To get started, it helps to have:\n" +
          "‚Ä¢ A short description of your business\n" +
          "‚Ä¢ Any existing logos/branding\n" +
          "‚Ä¢ Examples of websites or brands you like\n" +
          "‚Ä¢ A rough budget and timeline\n\nIf you don‚Äôt have it all yet, that‚Äôs okay ‚Äî we‚Äôll figure it out together.",
        options: [
          { label: "üí¨ Start a quote", next: "quote_intro" },
          { label: "üîô Back to FAQs", next: "faqs" }
        ]
      },

      faq_smallbiz: {
        type: "message",
        text:
          "Absolutely. Elevated AI Works is built for small businesses, creators, and entrepreneurs.\n" +
          "We can start small and scale alongside you.",
        options: [
          { label: "üîô Back to FAQs", next: "faqs" }
        ]
      },

      faq_contact: {
        type: "message",
        text:
          "You can reach out anytime via the contact form on the site or by email.\n\n" +
          "Or, if you‚Äôd like, you can start a quick quote here in chat.",
        options: [
          { label: "üì¨ Open contact page", next: "open_contact" },
          { label: "üí¨ Start a quote here", next: "quote_intro" },
          { label: "üîô Back to FAQs", next: "faqs" }
        ]
      },

      // ----- D: Quote flow (full) -----
      quote_intro: {
        type: "message",
        text:
          "Let‚Äôs grab a few quick details and I‚Äôll pass them along to Elevated AI Works for a personalized response.\n\nWhat are you mainly interested in?",
        options: [
          { label: "üé® Branding / logo", next: "quote_interest_branding" },
          { label: "üåê Website", next: "quote_interest_web" },
          { label: "ü§ñ AI / automation", next: "quote_interest_ai" },
          { label: "üß© Combination / not sure", next: "quote_interest_combo" }
        ]
      },

      quote_interest_branding: { type: "input", text: "Got it ‚Äî branding.\nWhat‚Äôs your name?", key: "name", next: "quote_email" },
      quote_interest_web:     { type: "input", text: "Got it ‚Äî website.\nWhat‚Äôs your name?", key: "name", next: "quote_email" },
      quote_interest_ai:      { type: "input", text: "Got it ‚Äî AI / automation.\nWhat‚Äôs your name?", key: "name", next: "quote_email" },
      quote_interest_combo:   { type: "input", text: "No problem ‚Äî a mix is common.\nWhat‚Äôs your name?", key: "name", next: "quote_email" },

      quote_email: {
        type: "input",
        text: "Thanks, {{name}}. What‚Äôs the best email to reach you?",
        key: "email",
        next: "quote_description"
      },

      quote_description: {
        type: "input",
        text: "Great. In 2‚Äì3 sentences, tell us what you‚Äôre hoping to achieve or what problem you‚Äôd like Elevated AI Works to help solve.",
        key: "description",
        next: "quote_budget"
      },

      quote_budget: {
        type: "message",
        text: "If you‚Äôre comfortable sharing, which range best fits your budget?",
        options: [
          { label: "üíµ Under $1,000", next: "quote_done_under" },
          { label: "üíµ $1,000‚Äì$2,500", next: "quote_done_mid" },
          { label: "üíµ $2,500‚Äì$5,000", next: "quote_done_high" },
          { label: "üíµ $5,000+", next: "quote_done_premium" },
          { label: "üôà Not sure yet", next: "quote_done_unsure" }
        ]
      },

      quote_done_under:   { type: "final", text: "Thanks, {{name}}! üéâ\nYou selected a budget under $1,000." },
      quote_done_mid:     { type: "final", text: "Thanks, {{name}}! üéâ\nYou selected a budget of $1,000‚Äì$2,500." },
      quote_done_high:    { type: "final", text: "Thanks, {{name}}! üéâ\nYou selected a budget of $2,500‚Äì$5,000." },
      quote_done_premium: { type: "final", text: "Thanks, {{name}}! üéâ\nYou selected a budget of $5,000+." },
      quote_done_unsure:  { type: "final", text: "Thanks, {{name}}! üéâ\nNo worries if you‚Äôre not sure on budget yet." },

      // Special node for "describe only" (unsure service)
      quote_description_only: {
        type: "input",
        text: "Go ahead and describe your situation in a few sentences and Elevated AI Works will review it.",
        key: "description",
        next: "quote_done_simple"
      },

      quote_done_simple: {
        type: "final",
        text: "Thanks for sharing! Elevated AI Works will review your message and follow up if you left contact info elsewhere on the site."
      },

      // About node
      about: {
        type: "message",
        text:
          "Elevated AI Works blends thoughtful design with practical AI solutions.\n\n" +
          "Our goal is to make advanced tools feel approachable, human, and useful for small businesses and creators.\n\nWhat would you like to explore next?",
        options: [
          { label: "üìã See all services", next: "services_overview" },
          { label: "üí¨ Get a quote", next: "quote_intro" },
          { label: "üîô Back to main menu", next: "start" }
        ]
      },

      // Special pseudo-node for opening contact page (handled in JS)
      open_contact: {
        type: "action",
        action: "openContact"
      }
    };

    // ----- Basic chatbot engine -----
    (function () {
      const chatbot = document.getElementById("eaw-chatbot");
      const toggleBtn = document.getElementById("eaw-chat-toggle");
      const closeBtn = document.getElementById("eaw-chat-close");
      const messagesEl = document.getElementById("eaw-chat-messages");
      const optionsEl = document.getElementById("eaw-chat-options");
      const inputWrapper = document.getElementById("eaw-chat-input-wrapper");
      const inputField = document.getElementById("eaw-chat-input");
      const sendBtn = document.getElementById("eaw-chat-send");

      let currentNodeId = "start";
      let pendingKey = null;
      let pendingNext = null;
      const userData = {};

      function resetConversation() {
        // Clear messages and options and reset stored data
        messagesEl.innerHTML = "";
        optionsEl.innerHTML = "";
        for (const key in userData) {
          if (Object.prototype.hasOwnProperty.call(userData, key)) {
            delete userData[key];
          }
        }
        inputWrapper.style.display = "none";
      }

      function toggleChat(show) {
        if (show === true) {
          chatbot.style.display = "flex";
        } else if (show === false) {
          chatbot.style.display = "none";
        } else {
          chatbot.style.display = chatbot.style.display === "flex" ? "none" : "flex";
        }
      }

      toggleBtn.addEventListener("click", () => {
        toggleChat();
        if (chatbot.style.display === "flex" && messagesEl.childElementCount === 0) {
          showNode("start");
        }
      });

      closeBtn.addEventListener("click", () => {
        toggleChat(false);
      });

      function appendMessage(text, from = "bot") {
        const div = document.createElement("div");
        div.className = "eaw-msg " + from;
        div.textContent = renderText(text);
        messagesEl.appendChild(div);

        // Smooth auto-scroll to bottom after DOM updates
        requestAnimationFrame(() => {
          messagesEl.scrollTop = messagesEl.scrollHeight;
        });
      }

      function renderText(text) {
        return text.replace(/{{(\w+)}}/g, (_, key) => userData[key] || "");
      }

      function clearOptions() {
        optionsEl.innerHTML = "";
      }

      function showNode(id) {
        currentNodeId = id;
        const node = EAW_FLOW[id];
        if (!node) return;

        clearOptions();
        inputWrapper.style.display = "none";
        pendingKey = null;
        pendingNext = null;

        if (node.type === "action") {
          handleActionNode(node);
          return;
        }

        // Handle final nodes separately so we don't double-append text
        if (node.type === "final") {
          showFinal(node.text);
          return;
        }

        // Normal message / input nodes
        appendMessage(node.text, "bot");

        if (node.type === "message") {
          // Show options as buttons
          if (node.options && node.options.length) {
            node.options.forEach(opt => {
              const btn = document.createElement("button");
              btn.textContent = opt.label;
              btn.addEventListener("click", () => handleOptionClick(opt));
              optionsEl.appendChild(btn);
            });
          }
        } else if (node.type === "input") {
          // Show text input
          pendingKey = node.key;
          pendingNext = node.next;
          inputWrapper.style.display = "flex";
          inputField.value = "";
          inputField.focus();
        }
      }

      function handleOptionClick(opt) {
        appendMessage(opt.label, "user");

        const nextNode = EAW_FLOW[opt.next];
        if (!nextNode) {
          return;
        }
        if (nextNode.type === "action") {
          handleActionNode(nextNode);
        } else {
          showNode(opt.next);
        }
      }

      function handleActionNode(node) {
        if (node.action === "openContact") {
          // Open contact page in a new tab (from /legal folder)
          window.open("../contact.html", "_blank");
          // After action, go back to FAQs
          showNode("faqs");
        }
      }

      function handleInputSubmit() {
        const value = inputField.value.trim();
        if (!value || !pendingKey || !pendingNext) return;

        appendMessage(value, "user");
        userData[pendingKey] = value;

        inputField.value = "";
        inputWrapper.style.display = "none";

        showNode(pendingNext);
      }

      sendBtn.addEventListener("click", handleInputSubmit);
      inputField.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          handleInputSubmit();
        }
      });

      function showFinal(finalText) {
        appendMessage(finalText, "bot");

        // Build a simple summary for you to receive by email (mailto link)
        const summary =
          "New inquiry from EAW Assistant:\n\n" +
          "Name: " + (userData.name || "(not provided)") + "\n" +
          "Email: " + (userData.email || "(not provided)") + "\n\n" +
          "Description:\n" + (userData.description || "(not provided)") + "\n";

        const mailtoHref =
          "mailto:hello@elevatedaiworks.com" +
          "?subject=" + encodeURIComponent("New Elevated AI Works inquiry") +
          "&body=" + encodeURIComponent(summary);

        clearOptions();
        const btnEmail = document.createElement("button");
        btnEmail.textContent = "üì® Send details to Elevated AI Works";
        btnEmail.addEventListener("click", () => {
          window.location.href = mailtoHref;
        });

        const btnRestart = document.createElement("button");
        btnRestart.textContent = "üîÅ Start over";
        btnRestart.addEventListener("click", () => {
          resetConversation();
          showNode("start");
        });

        optionsEl.appendChild(btnEmail);
        optionsEl.appendChild(btnRestart);
      }
    })();
  </script>

</body>
</html>
