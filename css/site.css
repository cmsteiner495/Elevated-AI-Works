/* ==========================================================================
   ELEVATED AI WORKS â€” SITE EXPERIENCE LAYER (v2)
   Authoritative paste-over file
   Purpose: atmosphere, depth, polish, brand cohesion
   ========================================================================== */

/* --------------------------------------------------------------------------
   Brand Variables (match EAW logo exactly)
   -------------------------------------------------------------------------- */

:root{
  --eaw-orange: #ff7a3d;
  --eaw-red: #e84b3c;

  --eaw-orange-soft: rgba(255,122,61,0.22);
  --eaw-red-soft: rgba(232,75,60,0.18);

  --eaw-bg-deep: #09090a;
  --eaw-bg-deeper: #080809;

  --eaw-text-strong: rgba(255,255,255,0.94);
  --eaw-text: rgba(255,255,255,0.86);
  --eaw-text-muted: rgba(255,255,255,0.68);
  --eaw-text-faint: rgba(255,255,255,0.52);

  --eaw-border: rgba(255,255,255,0.12);
  --eaw-border-soft: rgba(255,255,255,0.08);

  --eaw-shadow-sm: 0 10px 24px rgba(0,0,0,0.28);
  --eaw-shadow-md: 0 20px 48px rgba(0,0,0,0.36);
  --eaw-shadow-lg: 0 32px 80px rgba(0,0,0,0.45);

  --eaw-ease: cubic-bezier(.22,.9,.22,1);

  /* Chat-specific tokens */
  --eaw-chat-bg: rgba(10,10,12,0.78);
  --eaw-chat-border-strong: rgba(255,255,255,0.2);
  --eaw-chat-border-soft: rgba(255,255,255,0.12);
  --eaw-chat-radius: 18px;
  --eaw-chat-padding: 16px;
  --eaw-chat-gap: 12px;
  --eaw-chat-z: 99999;
  --eaw-chat-toggle-z: 100000;
  --eaw-focus-ring: 0 0 0 3px rgba(255,122,61,0.26);
  --eaw-focus-color: rgba(255,122,61,0.9);
  --eaw-motion-medium: 280ms;
}

/* --------------------------------------------------------------------------
   Base Environment
   -------------------------------------------------------------------------- */

body{
  background:
    radial-gradient(1200px 700px at 18% -10%, rgba(255,122,61,0.10), transparent 55%),
    radial-gradient(900px 650px at 88% 5%, rgba(232,75,60,0.08), transparent 60%),
    linear-gradient(180deg, var(--eaw-bg-deep), var(--eaw-bg-deeper));
  color: var(--eaw-text);
  overflow-x: hidden;
  font-weight: 500;
}

/* --------------------------------------------------------------------------
   Environmental Backdrop (PREMIUM MOUNTAINS)
   -------------------------------------------------------------------------- */

.page{
  position: relative;
}

.page::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;

  background:
    /* premium mountain image */
    url("../img/backgrounds/mountains-premium.png") center 12% / cover no-repeat,

    /* brand lighting */
    radial-gradient(900px 320px at 18% 18%, var(--eaw-orange-soft), transparent 62%),
    radial-gradient(760px 300px at 82% 20%, var(--eaw-red-soft), transparent 64%),

    /* ultra-subtle grid texture */
    linear-gradient(to right, rgba(255,255,255,0.010) 1px, transparent 1px) 0 0 / 120px 120px,
    linear-gradient(to bottom, rgba(255,255,255,0.008) 1px, transparent 1px) 0 0 / 120px 120px,

    linear-gradient(180deg, rgba(6,6,8,0.85), rgba(7,7,8,0.94)),
    linear-gradient(180deg, var(--eaw-bg-deep), var(--eaw-bg-deeper));

  background-attachment: fixed, fixed, fixed, fixed, fixed, fixed;
  opacity: 0.97;
  filter: saturate(1.05) contrast(1.04);
}

/* subtle grain */
.page::after{
  content:"";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(5,5,6,0.18), rgba(5,5,6,0.32)),
    repeating-linear-gradient(
      0deg,
      rgba(255,255,255,0.012),
      rgba(255,255,255,0.012) 1px,
      transparent 2px,
      transparent 4px
    );
  opacity: 0.18;
  mix-blend-mode: overlay;
}

.page > *{
  position: relative;
  z-index: 1;
}

/* --------------------------------------------------------------------------
   Motion & interactions (EAW Interaction Language v1)
   -------------------------------------------------------------------------- */

/* Add data-reveal to any section you want animated on entry */
.js-enabled [data-reveal],
.js-enabled [data-reveal][data-stagger] > * {
  opacity: 0;
  transform: translateY(12px);
  transition: opacity var(--motion-slow) var(--ease-enter), transform var(--motion-slow) var(--ease-enter);
}

.js-enabled [data-reveal].is-revealed,
.js-enabled [data-reveal][data-stagger].is-revealed > * {
  opacity: 1;
  transform: translateY(0);
}

/* Navigation / content transitions */
[data-transition-container] {
  transition: opacity var(--motion-slow) var(--ease-enter), filter var(--motion-slow) var(--ease-enter);
}

[data-transition-container].is-preparing {
  opacity: 0;
}

[data-transition-container].is-exiting {
  opacity: 0;
  filter: blur(0px);
  transition: opacity var(--motion-base) var(--ease-exit), filter var(--motion-base) var(--ease-exit);
}

[data-transition-container].is-entering {
  opacity: 1;
  filter: none;
}

@media (max-width: 720px) {
  [data-transition-container].is-exiting,
  [data-transition-container].is-entering {
    filter: blur(3px);
  }
}

/* --------------------------------------------------------------------------
   Header (studio-grade glass)
   -------------------------------------------------------------------------- */

.site-header{
  position: sticky;
  top: 0;
  z-index: 50;
  background: rgba(12,12,14,0.65);
  border-bottom: 1px solid var(--eaw-border);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

.header-inner{
  padding-top: 12px;
  padding-bottom: 12px;
}

.brand{
  gap: 10px;
}

.brand-name{
  color: var(--eaw-text-strong);
  letter-spacing: -0.01em;
  font-weight: 700;
}

.nav a{
  padding: 10px 12px;
  border-radius: 999px;
  color: rgba(255,255,255,0.78);
  border: 1px solid transparent;
  transition: transform .15s var(--eaw-ease), background .2s var(--eaw-ease), border-color .2s var(--eaw-ease);
}

.nav a:hover{
  background: rgba(255,255,255,0.06);
  border-color: var(--eaw-border-soft);
  transform: translateY(-1px);
}

.nav a[aria-current="page"]{
  background: rgba(255,255,255,0.06);
  border-color: rgba(255,122,61,0.35);
  color: var(--eaw-text-strong);
}

/* mobile nav sanity */
.mobile-nav{ display:none; }
.nav-toggle{ display:none; }

@media (max-width: 900px){
  .nav{ display:none; }
  .nav-toggle{ display:inline-flex; }
  .mobile-nav.open{ display:block; }
}

/* --------------------------------------------------------------------------
   Hero (cinematic but calm)
   -------------------------------------------------------------------------- */

.hero{
  position: relative;
  padding-top: 56px;
  padding-bottom: 56px;
  overflow: hidden;
}

.hero::before{
  content:"";
  position:absolute;
  inset:-80px -80px auto -80px;
  height: 680px;
  pointer-events:none;

  background:
    radial-gradient(900px 360px at 20% 26%, var(--eaw-orange-soft), transparent 60%),
    radial-gradient(720px 320px at 80% 26%, var(--eaw-red-soft), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,0.03), transparent);
}

.kicker{
  text-transform: uppercase;
  letter-spacing: 0.22em;
  font-size: var(--fs-0);
  color: var(--eaw-text-faint);
}

.h1{
  color: var(--eaw-text-strong);
  letter-spacing: -0.03em;
  line-height: 1.05;
  font-weight: 750;
  text-shadow: 0 12px 36px rgba(0,0,0,0.35);
}

.lede{
  font-size: clamp(16px, 1.25vw, 20px);
  line-height: 1.55;
  color: var(--eaw-text);
}

/* --------------------------------------------------------------------------
   Buttons (product-level feel)
   -------------------------------------------------------------------------- */

.btn{
  transition:
    transform .15s var(--eaw-ease),
    box-shadow .25s var(--eaw-ease),
    background .25s var(--eaw-ease);
}

.btn-primary{
  background: linear-gradient(180deg, var(--eaw-orange), var(--eaw-red));
  color: #0b0b0c;
  border: none;
}

.btn:hover{
  transform: translateY(-1px);
  box-shadow: var(--eaw-shadow-md);
}

.btn:active{
  transform: scale(0.98);
}

/* --------------------------------------------------------------------------
   Cards / Panels (quiet premium)
   -------------------------------------------------------------------------- */

.card,
.hero-panel,
.work-card{
  background: rgba(12,12,14,0.55);
  border: 1px solid rgba(255,255,255,0.12);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: 0 20px 60px rgba(0,0,0,0.45);
}

.glass-card{
  background: rgba(12,12,14,0.62);
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: 0 22px 68px rgba(0,0,0,0.5);
}

.card{
  transition: transform .25s var(--eaw-ease), box-shadow .25s var(--eaw-ease), border-color .25s var(--eaw-ease);
}

.card:hover{
  transform: translateY(-3px);
  border-color: rgba(255,122,61,0.30);
  box-shadow: var(--eaw-shadow-md);
}

/* --------------------------------------------------------------------------
   Tiles
   -------------------------------------------------------------------------- */

.tile{
  background: rgba(12,12,14,0.45);
  border: 1px solid var(--eaw-border-soft);
  transition: border-color .2s var(--eaw-ease), background .2s var(--eaw-ease);
}

.tile:hover{
  border-color: rgba(255,122,61,0.22);
  background: rgba(14,14,16,0.6);
}

/* Portfolio polish */
.portfolio-page .muted,
.portfolio-page .kicker{ color: rgba(255,255,255,0.82); }

.work-card{
  transition: transform .3s var(--eaw-ease), box-shadow .3s var(--eaw-ease), border-color .3s var(--eaw-ease);
}

.work-card:hover{
  transform: translateY(-4px);
  border-color: rgba(255,122,61,0.28);
  box-shadow: 0 26px 72px rgba(0,0,0,0.55);
}

.work-link{ color: var(--eaw-text); font-weight: 650; text-decoration: underline; text-underline-offset: 4px; }

/* Legal layout */
.legal-hero{ margin-bottom: var(--space-5); }
.legal-hero .h1{ margin-bottom: var(--space-2); }
.legal-grid{ display: grid; gap: var(--space-4); }
.legal-card{ padding: var(--space-5); border-radius: 20px; }
.legal-card h2{ margin-top: 0; margin-bottom: 10px; letter-spacing: -0.01em; }
.legal-card p{ color: var(--eaw-text); margin: 0 0 12px; }
.legal-card ul{ margin: 0; padding-left: 18px; color: var(--eaw-text); line-height: 1.6; display: grid; gap: 6px; }
.legal-footer-note{ color: var(--eaw-text-faint); font-size: var(--fs-0); }

@media (max-width: 640px){
  .legal-card{ padding: var(--space-4); }
}

/* --------------------------------------------------------------------------
   Forms
   -------------------------------------------------------------------------- */

.form-modern .input,
.form-modern .textarea,
.form-modern .select{
  background: rgba(255,255,255,0.04);
  border-color: rgba(255,255,255,0.16);
  border-radius: 14px;
  padding: 14px 16px;
  transition: border-color .18s var(--eaw-ease), box-shadow .2s var(--eaw-ease), transform .12s var(--eaw-ease);
}

.form-modern .input:focus,
.form-modern .textarea:focus,
.form-modern .select:focus{
  border-color: rgba(255,122,61,0.55);
  box-shadow: 0 0 0 3px rgba(255,122,61,0.25);
}

.form-modern label .label{ color: var(--eaw-text); font-weight: 600; letter-spacing: 0.01em; }

.form-modern .textarea{ min-height: 160px; }

/* --------------------------------------------------------------------------
   Section separators
   -------------------------------------------------------------------------- */

.divider{
  border-color: var(--eaw-border-soft);
}

/* --------------------------------------------------------------------------
   CTA alignment
   -------------------------------------------------------------------------- */

.cta-block{
  text-align: center;
  display: grid;
  gap: var(--space-4);
  justify-items: center;
  max-width: 760px;
  margin: 0 auto;
  padding: var(--space-6) var(--space-3);
}

.cta-block .lede{ margin: 0 auto; }

/* --------------------------------------------------------------------------
   Footer
   -------------------------------------------------------------------------- */

.site-footer{
  background: rgba(8,8,9,0.75);
  border-top: 1px solid var(--eaw-border);
}

.footer-note{
  color: var(--eaw-text-faint);
}

/* --------------------------------------------------------------------------
   Chatbot polish (kept subtle)
   -------------------------------------------------------------------------- */

#eaw-chatbot{
  position: fixed;
  bottom: calc(env(safe-area-inset-bottom) + 92px);
  right: calc(22px + env(safe-area-inset-right));
  width: 360px;
  max-height: min(80vh, 580px);
  background: var(--eaw-chat-bg);
  border: 1px solid var(--eaw-chat-border-strong);
  box-shadow: 0 30px 120px rgba(0,0,0,0.65), 0 0 0 1px rgba(255,255,255,0.04);
  border-radius: var(--eaw-chat-radius);
  backdrop-filter: blur(18px) saturate(1.05);
  -webkit-backdrop-filter: blur(18px) saturate(1.05);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  opacity: 0;
  visibility: hidden;
  transform: scale(0.98);
  pointer-events: none;
  transition:
    opacity var(--motion-base) var(--ease-enter),
    transform var(--motion-base) var(--ease-enter),
    visibility var(--motion-base) var(--ease-enter);
  z-index: var(--eaw-chat-z);
  isolation: isolate;
  will-change: transform, opacity;
  font-size: 15.5px;
  line-height: 1.55;
}

#eaw-chatbot.open{
  opacity: 1;
  visibility: visible;
  transform: scale(1);
  pointer-events: auto;
}

#eaw-chat-messages{
  background: linear-gradient(180deg, rgba(255,255,255,0.04), transparent 32%);
  padding: var(--eaw-chat-padding);
  gap: var(--eaw-chat-gap);
}

.eaw-chat-header,
#eaw-chat-options,
#eaw-chat-input-wrapper{ padding: 14px var(--eaw-chat-padding); }

.eaw-chat-header{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.eaw-chat-header span{ font-weight: 650; letter-spacing: 0.01em; color: var(--eaw-text-strong); }

#eaw-chat-close{ 
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid var(--eaw-chat-border-soft);
  background: rgba(255,255,255,0.06);
  color: var(--eaw-text-strong);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  transition:
    background-color var(--motion-base) var(--ease-standard),
    border-color var(--motion-base) var(--ease-standard),
    transform var(--motion-fast) var(--ease-standard);
}

#eaw-chat-close:hover{ background: rgba(255,255,255,0.12); border-color: var(--eaw-chat-border-strong); }
#eaw-chat-close:active{ transform: scale(0.98); }
#eaw-chat-close:focus-visible{ outline: none; box-shadow: var(--eaw-focus-ring); border-color: var(--eaw-focus-color); }

#eaw-chat-messages,
#eaw-chat-options{ display: flex; flex-direction: column; }

#eaw-chat-messages .eaw-msg{ color: var(--eaw-text); line-height: 1.55; letter-spacing: 0.01em; }
#eaw-chat-messages .eaw-msg.user{ color: var(--eaw-text-muted); text-align: right; }

#eaw-chat-options{ gap: 10px; }

#eaw-chat-options button{
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  width: 100%;
  min-height: 48px;
  padding: 14px 16px;
  border-radius: 14px;
  border: 1px solid var(--eaw-chat-border-soft);
  background: rgba(255,255,255,0.08);
  color: var(--eaw-text-strong);
  font-weight: 650;
  font-size: 16px;
  line-height: 1.5;
  text-align: left;
  transition:
    transform var(--motion-fast) var(--ease-standard),
    border-color var(--motion-base) var(--ease-standard),
    background-color var(--motion-base) var(--ease-standard),
    box-shadow var(--motion-base) var(--ease-standard);
}

#eaw-chat-options button:hover{
  transform: translateY(-1px);
  border-color: rgba(255,122,61,0.38);
  background: rgba(255,255,255,0.12);
  box-shadow: var(--eaw-shadow-sm);
}

#eaw-chat-options button:active{
  transform: scale(0.98);
  background: rgba(255,255,255,0.16);
}

#eaw-chat-options button:focus-visible{
  outline: none;
  box-shadow: var(--eaw-focus-ring);
  border-color: var(--eaw-focus-color);
}

#eaw-chat-input-wrapper{ display: flex; gap: 10px; }

#eaw-chat-input{
  border-radius: 14px;
  border: 1px solid var(--eaw-chat-border-soft);
  background: rgba(255,255,255,0.07);
  padding: 12px 14px;
  color: var(--eaw-text-strong);
  flex: 1;
}

#eaw-chat-input::placeholder{ color: var(--eaw-text-muted); }

#eaw-chat-input:focus-visible{ border-color: rgba(255, 122, 61, 0.55); box-shadow: var(--eaw-focus-ring); outline: none; }

#eaw-chat-send{
  border-radius: 14px;
  background: linear-gradient(135deg, var(--eaw-orange), var(--eaw-red));
  color: #0b0b0c;
  font-weight: 650;
  padding: 12px 16px;
  min-height: 48px;
  transition:
    transform var(--motion-fast) var(--ease-standard),
    box-shadow var(--motion-base) var(--ease-standard);
}

#eaw-chat-send:hover{ transform: translateY(-1px); box-shadow: var(--eaw-shadow-sm); }
#eaw-chat-send:active{ transform: scale(0.98); }
#eaw-chat-send:focus-visible{ outline: none; box-shadow: var(--eaw-focus-ring); }

#eaw-chat-toggle{
  position: fixed;
  bottom: calc(20px + env(safe-area-inset-bottom));
  right: calc(20px + env(safe-area-inset-right));
  width: 60px;
  height: 60px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.22);
  display: grid;
  place-items: center;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.24), transparent 45%), linear-gradient(145deg, var(--eaw-orange), var(--eaw-red));
  color: #0b0b0c;
  font-size: 0;
  font-weight: 700;
  box-shadow: 0 18px 38px rgba(0,0,0,0.55);
  transition:
    transform var(--motion-base) var(--ease-standard),
    box-shadow var(--motion-base) var(--ease-standard),
    border-color var(--motion-base) var(--ease-standard),
    background-color var(--motion-base) var(--ease-standard);
  z-index: var(--eaw-chat-toggle-z);
  isolation: isolate;
  pointer-events: auto;
}

#eaw-chat-toggle .icon{
  position: relative;
  display: block;
  width: 18px;
  height: 18px;
  transition: transform var(--motion-base) var(--ease-standard);
}

#eaw-chat-toggle .icon::before,
#eaw-chat-toggle .icon::after{
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 18px;
  height: 2px;
  background: #0b0b0c;
  border-radius: 999px;
  transform: translate(-50%, -50%) rotate(0deg);
  transition: transform var(--motion-base) var(--ease-standard), opacity var(--motion-base) var(--ease-standard);
}

#eaw-chat-toggle .icon::after{ transform: translate(-50%, -50%) rotate(90deg); }

#eaw-chat-toggle.is-open{ border-color: rgba(255,255,255,0.32); box-shadow: 0 26px 64px rgba(0,0,0,0.68); }
#eaw-chat-toggle.is-open .icon{ transform: rotate(180deg); }
#eaw-chat-toggle.is-open .icon::before{ transform: translate(-50%, -50%) rotate(45deg); }
#eaw-chat-toggle.is-open .icon::after{ transform: translate(-50%, -50%) rotate(135deg); }

#eaw-chat-toggle:hover{ transform: translateY(-2px) scale(1.02); box-shadow: 0 24px 46px rgba(0,0,0,0.48); border-color: rgba(255,255,255,0.26); }
#eaw-chat-toggle:active{ transform: scale(0.97); }

#eaw-chat-toggle:focus-visible{
  outline: none;
  box-shadow: var(--eaw-focus-ring);
  border-color: var(--eaw-focus-color);
}

#eaw-chat-toggle.is-shelved{
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translateY(8px) scale(0.94);
}

@media (max-width: 720px){
  #eaw-chatbot{ width: calc(100% - 28px); right: 14px; left: 14px; bottom: calc(env(safe-area-inset-bottom) + 96px); }
  #eaw-chat-toggle{ bottom: calc(14px + env(safe-area-inset-bottom)); right: 14px; width: 56px; height: 56px; font-size: 26px; }
}

@media (max-width: 480px){
  #eaw-chatbot{
    width: calc(100vw - 24px);
    right: 12px;
    left: 12px;
    bottom: calc(env(safe-area-inset-bottom) + 100px);
    border-radius: 16px;
  }

  .eaw-chat-header,
  #eaw-chat-options,
  #eaw-chat-input-wrapper,
  #eaw-chat-messages{ padding: 16px; }
}

@media (prefers-reduced-motion: reduce){
  *, *::before, *::after {
    animation-duration: 0ms !important;
    transition-duration: 0ms !important;
    scroll-behavior: auto !important;
  }

  [data-reveal],
  [data-reveal][data-stagger] > * {
    opacity: 1 !important;
    transform: none !important;
  }

  [data-transition-container] {
    opacity: 1 !important;
    filter: none !important;
  }

  #eaw-chatbot,
  #eaw-chat-toggle,
  #eaw-chat-options button,
  #eaw-chat-send,
  #eaw-chat-close{
    transition: none !important;
  }

  #eaw-chatbot{ transform: none !important; }
  #eaw-chat-toggle.is-open .icon,
  #eaw-chat-toggle .icon,
  #eaw-chat-toggle .icon::before,
  #eaw-chat-toggle .icon::after{ transition: none !important; }
}
